version: 3

entity: students

grado: '*'

temporal_splits:
  data_starts: 2009-01-01
  data_ends: 2018-01-01
  train_window: [3y]
  test_window: [0y]
  label_window: [1y]
  step: [1y]

learners:
  - algorithm: sklearn.ensemble.RandomForestClassifier
    hyperparameters:
      max_depth: [5,10, 50]
      n_estimators: [10, 100, 1000]
      max_features: ['log2']
      criterion: ['gini']
      min_samples_split: [2,5]
      n_jobs: [-1]
  - algorithm: sklearn.tree.DecisionTreeClassifier
    hyperparameters:
      max_depth: [1, 2, 5, 50]
      min_samples_split: [2,5,10]
  - algorithm: sklearn.linear_model.LogisticRegression
    hyperparameters:
      penalty: ['l2']
      C: [0.0001, 0.001, 0.01, 0.1, 1.0, 10]

features_table: features
features: [year_range, student, age, overage1, overage_bool, overage1_1y_avg, overage1_2y_avg, overage1_3y_avg, overage2, overage2_bool, overage2_1y_avg, overage2_2y_avg, overage2_3y_avg,
repeats, repeats_bool, student_female, grado_code, family_members, school_count, school_1y_count, school_2y_count, school_3y_count, school_mismatch, school_mismatch_1y_avg, school_mismatch_2y_avg, school_mismatch_3y_avg, school_rural, school_public, school_departamento_1y_count, school_departamento_2y_count, school_departamento_3y_count, san_salvador, la_libertad, santa_ana, sonsonate, san_miguel, usulutan, ahuachapan, la_paz, cuscatlan, la_union, san_vicente, morazan, chalatenango, caba√±as, extranjero]

labels:
  - labeling.sql   

comments: |
  This is a test of the pipeline
